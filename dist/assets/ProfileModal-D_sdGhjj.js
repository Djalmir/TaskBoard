import{Q as I,f as l,_,A as y,r as m,C,o as u,a as $,w as g,b as v,M as S,y as M,c as p,L as B,s as b,T as z,B as w,d as x,t as c,n as L,i,R as T,q as A,p as D,h as N}from"./index-BOENqZPx.js";import{d as j,P as U,M as q}from"./date-CkqKRw61.js";const o=I.create({baseURL:"https://api.razion.app.br/",headers:{Accept:"application/json","Content-Type":"application/json",common:{"X-Requested-With":"XMLHttpRequest"}}});o.interceptors.request.use(e=>(e.data instanceof FormData?e.headers["Content-Type"]="multipart/form-data":e.headers["Content-Type"]="application/json",l("setLoading",!0),e),e=>{var r,t;l("setLoading",!1);let s=(r=e.response)==null?void 0:r.data.error,a=(t=e.response)==null?void 0:t.data.field;return s?l("showMessage",{error:s,field:a}):l("showMessage",{error:"Erro inesperado"}),Promise.reject(e)});o.interceptors.response.use(e=>(l("setLoading",!1),e),e=>{var r,t;l("setLoading",!1);let s=(r=e.response)==null?void 0:r.data.error,a=(t=e.response)==null?void 0:t.data.field;return s?s=="Token inválido."?(l("showMessage",{error:"Sua sessão expirou. Por favor, faça o login novamente."}),l("logout")):l("showMessage",{error:s,field:a}):l("showMessage",{error:"Erro inesperado"}),Promise.reject(e)});const n=()=>({headers:{Authorization:sessionStorage.getItem("userProfile")?JSON.parse(sessionStorage.getItem("userProfile")).token:JSON.parse(localStorage.getItem("userProfile")).token}}),te={createBoard({name:e,sharedWith:s,invitedUsers:a}){return o.post("taskboard/boards/create",{name:e,sharedWith:s,invitedUsers:a},n())},listBoards(){return o.get("taskboard/boards/list",n())},getBoardDetails(e){return o.get(`taskboard/boards/boardDetails/${e}`,n())},updateBoard({boardId:e,name:s,sharedWith:a,invitedUsers:r,listsOrder:t}){return o.put(`taskboard/boards/update/${e}`,{name:s,sharedWith:a,invitedUsers:r,listsOrder:t},n())},deleteBoard(e){return o.delete(`taskboard/boards/delete/${e}`,n())},createList({boardId:e,name:s}){return o.post("taskboard/lists/create",{boardId:e,name:s},n())},updateList({listId:e,name:s,cardsOrder:a}){return o.put(`taskboard/lists/update/${e}`,{name:s,cardsOrder:a},n())},deleteList(e){return o.delete(`taskboard/lists/delete/${e}`,n())},createCard(e){return o.post("taskboard/cards/create",e,n())},updateCard(e){return o.patch(`taskboard/cards/update/${e.cardId||e.get("cardId")}`,e,n())},moveCard({board:e,card:s,fromList:a,toList:r,index:t}){return o.post("taskboard/boards/moveCard",{board:e,card:s,fromList:a,toList:r,index:t},n())},deleteCard(e){return o.delete(`taskboard/cards/delete/${e}`,n())}},E={__name:"PillButton",props:{label:{type:String},action:{type:Function},icon:{type:String,default:"plus"}},setup(e){y(t=>({"8d18362e":r.value}));const s=m(!1),a=m(),r=C(()=>{var t;return`${((t=a.value)==null?void 0:t.innerText.length)||0}ch`});return(t,d)=>(u(),$(w,{class:"pillButton",onClick:e.action,onMouseenter:d[0]||(d[0]=k=>s.value=!0),onMouseleave:d[1]||(d[1]=k=>s.value=!1)},{default:g(()=>[v(M,{class:S(`${e.icon} icon`),size:2.5},null,8,["class"]),v(z,{name:"growFromRight"},{default:g(()=>[s.value?(u(),p("b",{key:0,ref_key:"b",ref:a},[B(t.$slots,"default",{},()=>[x(c(e.label),1)],!0)],512)):b("",!0)]),_:3})]),_:3},8,["onClick"]))}},se=_(E,[["__scopeId","data-v-f55714c0"]]),R={__name:"UserBadge",props:{user:{type:[Object,String],required:!0},size:{type:Number,default:2},class:{type:String}},setup(e){y(r=>({"4a8386da":a.value}));const s=e,a=C(()=>`${s.size}em`);return(r,t)=>(u(),p("div",{class:S(`user ${s.class?s.class:""}`)},[e.user.profilePicture?(u(),p("div",{key:0,class:"userAvatar",onClick:t[0]||(t[0]=d=>r.$emit("imgClicked"))},[v(L,{src:e.user.profilePictureUrl,size:e.size,alt:"User Avatar"},null,8,["src","size"])])):(u(),$(M,{key:1,class:"user",size:e.size},null,8,["size"])),i("span",null,c(e.user.name),1)],2))}},V=_(R,[["__scopeId","data-v-188f36c5"]]),h=e=>(D("data-v-771e7e21"),e=e(),N(),e),F={class:"info"},O=h(()=>i("b",null,"Email:",-1)),J={key:0,class:"info"},W=h(()=>i("b",null,"Telefone:",-1)),X={key:1,class:"info"},H=h(()=>i("b",null,"Data de nascimento:",-1)),Q={key:2,class:"info"},G=h(()=>i("b",null,"Sexo:",-1)),K={__name:"ProfileModal",setup(e,{expose:s}){const a=m(),r=m(),t=m(null);function d(f){f&&(t.value=f,a.value.show())}function k(){a.value.close()}return s({show:d,user:t,close:k}),(f,P)=>(u(),$(q,{ref_key:"modal",ref:a,onClose:k},T({default:g(()=>[v(V,{user:t.value,size:3,class:"userBadge",onImgClicked:P[0]||(P[0]=Y=>r.value.show(t.value))},null,8,["user"]),i("div",F,[O,i("span",null,c(t.value.email),1)]),t.value.phone?(u(),p("div",J,[W,i("span",null,c(t.value.phone),1)])):b("",!0),t.value.birthDate?(u(),p("div",X,[H,i("span",null,c(A(j)(t.value.birthDate)),1)])):b("",!0),t.value.sex?(u(),p("div",Q,[G,i("span",null,c(t.value.sex=="M"?"Masculino":"Feminino"),1)])):b("",!0),v(U,{ref_key:"profilePictureModal",ref:r,src:t.value.profilePictureUrl,alt:"Profile picture"},null,8,["src"])]),_:2},[f.$slots.default?{name:"footer",fn:g(()=>[B(f.$slots,"default",{},void 0,!0)]),key:"0"}:void 0]),1536))}},ae=_(K,[["__scopeId","data-v-771e7e21"]]);export{ae as P,V as U,se as a,te as t};
